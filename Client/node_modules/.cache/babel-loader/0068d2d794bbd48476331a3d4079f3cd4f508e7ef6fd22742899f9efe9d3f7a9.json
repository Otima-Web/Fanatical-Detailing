{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import\"./PopUp.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SERVER='https://fanaticaldetailing.com/api';// const SERVER = 'http://localhost:8080/api'\nconst PopUp=_ref=>{let{setPopUp,popUp,selected}=_ref;const[firstName,setFirstName]=useState(\"\");const[lastName,setLastName]=useState(\"\");const[email,setEmail]=useState(\"\");const[phone,setPhone]=useState(\"\");const isMobileDevice=/Mobi/i.test(window.navigator.userAgent);const[loading,setLoading]=useState(false);useEffect(()=>{},[popUp]);const menuRef=useRef();function isValidEmail(email){const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);}useEffect(()=>{document.querySelector('.centerer').style.top+=\"\".concat(window.scrollY,\"px\");let handler=e=>{if(!menuRef.current.contains(e.target)){setPopUp(false);}};document.addEventListener(\"mousedown\",handler);// Cleanup the event listener on component unmount\nreturn()=>{document.removeEventListener(\"mousedown\",handler);};},[popUp]);function handleSubmit(){if(firstName===\"\"||lastName===\"\"||email===\"\"||phone===\"\"){return;}if(!isValidEmail(email)){alert('Invalid Email Detected');return;}let form=document.querySelector('.option2');let title=document.getElementById('thankYou');const data={firstName:firstName,lastName:lastName,email:email,phone:phone,service:selected};setLoading(true);try{fetch(\"\".concat(SERVER,\"/interest\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({data})}).then(res=>res.json()).then(data=>{if(data.success){setLoading(false);form.style.display='none';title.style.display='flex';}});}catch{alert(\"Something went wrong on our end. Please try again later\");return;}}const updateFN=e=>{setFirstName(e.target.value);};const updateLN=e=>{setLastName(e.target.value);};const updateEmail=e=>{setEmail(e.target.value);};const updatePhone=e=>{setPhone(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{id:\"blur\",children:/*#__PURE__*/_jsx(\"div\",{className:\"centerer\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"content\",ref:menuRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Schedule an Appointment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"sub-header\",children:selected})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"call\",children:[/*#__PURE__*/_jsxs(\"a\",{className:\"call-btn\",href:\"tel:5614006355\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-phone\"}),/*#__PURE__*/_jsx(\"p\",{children:\"561-400-6355\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"warning\",children:\"Call or Text Now!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"center\",children:[\"  \",/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),\"  \",/*#__PURE__*/_jsx(\"p\",{children:\"or\"}),\"  \",/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),\"  \"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"option2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:loading?'loading':'inputs',children:[/*#__PURE__*/_jsxs(\"div\",{className:\"name\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:updateFN,placeholder:\"First Name*\",value:firstName,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChangeCapture:updateLN,placeholder:\"Last Name*\",value:lastName,required:true})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:updateEmail,placeholder:\"Email*\",value:email,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:updatePhone,placeholder:\"Phone*\",value:phone,required:true}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"parameters\",children:/*#__PURE__*/_jsx(\"span\",{class:\"material-symbols-outlined\",children:\"progress_activity\"})}):null]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",onClick:handleSubmit,className:\"submit-btn\",value:'Submit'})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"thankYou\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Thank you\"}),/*#__PURE__*/_jsx(\"p\",{className:\"warning\",children:\"Please check your Junk mail if you do not recieve a confirmation email in the next few minutes.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Our team is excited to make your car look good!\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"cancel\",onClick:()=>setPopUp(false),children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"I \",/*#__PURE__*/_jsx(\"i\",{class:\"fa-regular fa-heart\"}),\" Dirty Cars\"]})}),/*#__PURE__*/_jsx(\"i\",{class:\"fa-solid fa-chevron-left\"})]})})]})})});};export default PopUp;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","SERVER","PopUp","_ref","setPopUp","popUp","selected","firstName","setFirstName","lastName","setLastName","email","setEmail","phone","setPhone","isMobileDevice","test","window","navigator","userAgent","loading","setLoading","menuRef","isValidEmail","emailRegex","document","querySelector","style","top","concat","scrollY","handler","e","current","contains","target","addEventListener","removeEventListener","handleSubmit","alert","form","title","getElementById","data","service","fetch","method","headers","body","JSON","stringify","then","res","json","success","display","updateFN","value","updateLN","updateEmail","updatePhone","id","children","className","ref","href","type","onChange","placeholder","required","onChangeCapture","class","onClick"],"sources":["/Users/brian/Freelance/Fanatical/Client/src/Pages/PopUp.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport \"./PopUp.css\";\n\nconst SERVER = 'https://fanaticaldetailing.com/api'\n// const SERVER = 'http://localhost:8080/api'\n\nconst PopUp = ({setPopUp, popUp, selected}) =>{\n    const [firstName, setFirstName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [phone, setPhone] = useState(\"\");\n    const isMobileDevice = /Mobi/i.test(window.navigator.userAgent)\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n\n\n    }, [popUp]);\n\n    const menuRef = useRef();\n\n    function isValidEmail(email) {\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      return emailRegex.test(email);\n    }\n\n\n    useEffect(() => {\n        document.querySelector('.centerer').style.top += `${window.scrollY}px`; \n\n        let handler = (e) => {\n    \n          if (!menuRef.current.contains(e.target)) {\n            setPopUp(false);\n          }\n        };\n        document.addEventListener(\"mousedown\", handler);\n    \n        // Cleanup the event listener on component unmount\n        return () => {\n          document.removeEventListener(\"mousedown\", handler);\n        };\n      }, [popUp]);\n\n      function handleSubmit(){\n\n        if(firstName === \"\" || lastName === \"\" || email === \"\" || phone === \"\"){\n            return;\n        }\n\n        if (!isValidEmail(email)) {\n          alert('Invalid Email Detected');\n          return\n        } \n\n        let form = document.querySelector('.option2');\n        let title = document.getElementById('thankYou');\n\n        const data = {\n            firstName: firstName,\n            lastName: lastName,\n            email: email,\n            phone: phone,\n            service: selected,\n        };\n        \n        setLoading(true)\n\n        try{\n            fetch(`${SERVER}/interest`, {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({data})\n              })\n              .then((res) => res.json())\n              .then((data)=>{\n                if(data.success){\n                    setLoading(false)\n                    form.style.display = 'none';\n                    title.style.display = 'flex';\n                }\n              });\n        }\n        catch{\n            alert(\"Something went wrong on our end. Please try again later\")\n            return;\n        }\n      }\n\n      const updateFN = (e) => {\n        setFirstName(e.target.value);\n      }\n      const updateLN = (e) => {\n        setLastName(e.target.value);\n      }\n      const updateEmail = (e) => {\n        setEmail(e.target.value);\n      }\n      const updatePhone = (e) => {\n        setPhone(e.target.value);\n      }\n\n    return(\n        <div id='blur'>\n          <div className='centerer'>\n            <div id='content'ref={menuRef}>\n                  <div className='header'>\n                      <h2>Schedule an Appointment</h2>\n                      <p className='sub-header'>{selected}</p>\n                  </div>\n                  <div className='content'>\n                      <div className='call'>\n                          <a className=\"call-btn\" href=\"tel:5614006355\">\n                              <i className=\"fa-solid fa-phone\"></i>\n                              <p>561-400-6355</p>\n                          </a>\n                          <p className='warning'>Call or Text Now!</p>\n                      </div>\n\n                      <div className='center'>  <div className='line'></div>  <p>or</p>  <div className='line'></div>  </div>\n                      \n                      <div className='option2'>\n                          <div className={loading ? 'loading': 'inputs'}>\n                              <div className='name'>\n                                  <input type=\"text\" onChange={updateFN} placeholder='First Name*' value={firstName} required/>\n                                  <input type=\"text\" onChangeCapture={updateLN} placeholder='Last Name*' value={lastName} required/>\n                              </div>\n                              <input type=\"text\" onChange={updateEmail} placeholder='Email*' value={email} required/>\n                              <input type=\"text\" onChange={updatePhone} placeholder='Phone*' value={phone} required/>\n                              {loading ? \n                              <div className='parameters'>\n                                <span class=\"material-symbols-outlined\">progress_activity</span>\n                              </div>:\n                              null\n                              }\n                          </div>\n                          <input type='submit' onClick={handleSubmit} className='submit-btn' value={'Submit'}/>\n                      </div>\n\n                      <div id=\"thankYou\">\n                          <h2>Thank you</h2>\n                          <p className=\"warning\">Please check your Junk mail if you do not recieve a confirmation email in the next few minutes.</p>\n                          <p>Our team is excited to make your car look good!</p>\n                      </div>\n                  </div>\n                  <div className='footer'>\n                      <button className='cancel' onClick={() => setPopUp(false)}>\n                          <div className='container'>\n                              <p>I <i class=\"fa-regular fa-heart\"></i> Dirty Cars</p> \n                          </div>\n                          <i class=\"fa-solid fa-chevron-left\"></i>\n                          </button>\n                  </div>\n            </div>\n          </div>\n        </div>\n    )\n}\n\nexport default PopUp;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}